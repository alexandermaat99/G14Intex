<!DOCTYPE html>
<html>
  <head>
    <title>Survey Responses</title>
    <link rel="stylesheet" href="/public/css/userHome.css" />
  </head>
  <body>
    <div class="navbar-container">
      <ul class="navbar">
        <li><a href="/edit-account" class="not-active">Account</a></li>
        <li><a class="active">Records</a></li>
        <li><a href="/userPage" class="not-active">Users</a></li>
        <li><a href="/admin_home" class="not-active">Dashboard</a></li>
      </ul>
    </div>
    <h1>Survey Responses</h1>

    <!-- Filter and Search Forms -->
    <form action="/admin/data" method="get" style="margin-bottom: 20px">
      <!-- Filter by Location Dropdown -->
      <label for="locationFilter">Filter by Location:</label>
      <select id="locationFilter" name="location">
        <option value="">All Locations</option>
        <option value="Plainsville">Plainsville</option>
        <option value="Provo">Provo</option>
        <option value="Other">Other</option>
      </select>

      <!-- Search by Response ID -->
      <label for="responseIdSearch">Search Response ID:</label>
      <input
        type="number"
        id="responseIdSearch"
        name="responseid"
        placeholder="Enter Response ID"
      />

      <!-- Filter/Search Button -->
      <button type="submit">Apply</button>

      <!-- Reset Button to Show All Data -->
      <button type="button" onclick="window.location.href='/admin/data'">
        Reset Filter
      </button>
    </form>

    <!-- Data Table -->
    <table style="width: 50vw" border="1">
      <!-- Table Headers -->
      <thead>
        <tr>
          <th>Response ID</th>
          <th>Timestamp</th>
          <th>Location</th>
        </tr>
      </thead>
      <!-- Table Body -->
      <tbody>
        <% data.forEach(function(response) { %>
        <tr>
          <td>
            <a href="/response-detail/<%= response.responseid %>"
              ><%= response.responseid %></a
            >
          </td>
          <td><%= response.timestamp %></td>
          <td><%= response.location %></td>
        </tr>
        <% }); %>
      </tbody>
    </table>
  </body>
</html>
